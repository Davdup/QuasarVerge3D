{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[2],{\"21e8\":function(e,n,t){\"use strict\";t.r(n);var r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t(\"div\",{attrs:{id:\"app\"}},[t(\"V3DApp\")],1)},a=[],o=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t(\"div\",{attrs:{id:e.containerId}},[t(\"div\",{staticClass:\"fixed-top-right q-mt-xl q-gutter-sm\"},[t(\"div\",{staticClass:\"q-pa-md\",staticStyle:{width:\"300px\"}},[t(\"q-list\",{staticClass:\"rounded-borders bg-blue text-white\",attrs:{padding:\"\",bordered:\"\"}},[t(\"q-expansion-item\",{attrs:{dense:\"\",\"dense-toggle\":\"\",\"expand-separator\":\"\",icon:\"play_circle_outline\",label:\"Animated Modules\",\"header-class\":\"bg-blue-9 text-white\",\"expand-icon-class\":\"text-white\"}},[t(\"q-card\",{staticClass:\"text-black bg-blue-2\"},[t(\"q-card-section\",e._l(e.anims,(function(n){return t(\"div\",{staticClass:\"row justify-center\"},[t(\"div\",{staticClass:\"col q-pa-sm\"},[e._v(e._s(n.name))]),t(\"div\",{staticClass:\"col\"},[t(\"q-btn\",{staticClass:\"q-ma-xs\",attrs:{id:n.btnId,color:n.completed?\"text-white bg-green\":\"text-white bg-red\",label:n.completed?\"Open\":\"Close\"},on:{click:function(e){n.completed=!n.completed}}})],1)])})),0)],1)],1),t(\"q-separator\"),t(\"q-expansion-item\",{attrs:{dense:\"\",\"dense-toggle\":\"\",\"expand-separator\":\"\",icon:\"info_outline\",label:\"Info Overlays\",\"header-class\":\"bg-blue-9 text-white\",\"expand-icon-class\":\"text-white\"}},[t(\"q-card\",{staticClass:\"text-black bg-blue-2\"},[t(\"q-card-section\",e._l(e.infos,(function(n){return t(\"div\",{staticClass:\"row justify-center\"},[t(\"div\",{staticClass:\"col q-pa-sm\"},[e._v(e._s(n.name))]),t(\"div\",{staticClass:\"col\"},[t(\"q-btn\",{staticClass:\"q-ma-xs\",attrs:{id:n.btnId,color:\"grey\",icon:\"info_outline\"},on:{click:function(t){return e.showModal(n.modalId)}}})],1)])})),0)],1)],1)],1)],1)]),t(\"q-dialog\",{model:{value:e.infoModals.Cube,callback:function(n){e.$set(e.infoModals,\"Cube\",n)},expression:\"infoModals.Cube\"}},[t(\"q-card\",[t(\"q-card-section\",[t(\"div\",{staticClass:\"text-h6\"},[e._v(\"This is a Cube\")])]),t(\"q-separator\",{attrs:{inset:\"\"}}),t(\"q-card-section\",{staticClass:\"q-pt-none\"},[e._v(\"Lorem ipsum dolor sit amet consectetur adipisicing elit. Rerum repellendus sit voluptate voluptas eveniet porro. Rerum blanditiis perferendis totam, ea at omnis vel numquam exercitationem aut, natus minima, porro labore.\")]),t(\"q-card-actions\",{attrs:{align:\"right\"}},[t(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{flat:\"\",label:\"OK\",color:\"primary\"}})],1)],1)],1),t(\"q-dialog\",{model:{value:e.infoModals.Sphere,callback:function(n){e.$set(e.infoModals,\"Sphere\",n)},expression:\"infoModals.Sphere\"}},[t(\"q-card\",[t(\"q-card-section\",[t(\"div\",{staticClass:\"text-h6\"},[e._v(\"This is a Sphere\")])]),t(\"q-card-section\",{staticClass:\"q-pt-none\"},[e._v(\"Lorem ipsum dolor sit amet consectetur adipisicing elit. Rerum repellendus sit voluptate voluptas eveniet porro. Rerum blanditiis perferendis totam, ea at omnis vel numquam exercitationem aut, natus minima, porro labore.\")]),t(\"q-card-actions\",{attrs:{align:\"right\"}},[t(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{flat:\"\",label:\"OK\",color:\"primary\"}})],1)],1)],1)],1)},i=[],s=t(\"2b0e\"),c=t(\"d12b\");t(\"530b\");const l=new s[\"a\"];var u={name:\"V3DApp\",data(){return{containerId:c[\"a\"],infoModals:{Cube:!1,Sphere:!1},anims:[{name:\"Cube Module\",btnId:\"btnAnimCube\",completed:!1},{name:\"Sphere Module\",btnId:\"btnAnimSphere\",completed:!1}],infos:[{name:\"Cube Module info\",btnId:\"btnCube\",modalId:\"Cube\"},{name:\"Sphere Module info\",btnId:\"btnSphere\",modalId:\"Sphere\"}]}},mounted:function(){v3d.PL=v3d.PL||{},v3d.PL._vueEventBus=l,l.$on(\"Object-clicked\",(e=>{this.infoModals[e.id]=!0})),l.$on(\"showNotif\",(e=>{this.showNotif(e.id)})),c[\"b\"](\"scene01.gltf\",\"scene01_logic.js\")},methods:{showNotif(e){this.$q.notify({message:\"Animate \"+e,timeout:\"3000\",progress:!0,position:\"top\",color:\"green\",avatar:\"https://cdn.quasar.dev/img/boy-avatar.png\",actions:[{label:\"Animate\",color:\"white\",handler:()=>{}},{label:\"Close\",color:\"red\",handler:()=>{}}]})},showModal(e){this.infoModals[e]=!0}}},d=u,p=(t(\"adcf\"),t(\"2877\")),f=t(\"1c1c\"),m=t(\"3b73\"),v=t(\"f09f\"),b=t(\"a370\"),h=t(\"9c40\"),g=t(\"eb85\"),C=t(\"24e8\"),E=t(\"4b7e\"),A=t(\"7f67\"),w=t(\"eebe\"),O=t.n(w),k=Object(p[\"a\"])(d,o,i,!1,null,null,null),y=k.exports;O()(k,\"components\",{QList:f[\"a\"],QExpansionItem:m[\"a\"],QCard:v[\"a\"],QCardSection:b[\"a\"],QBtn:h[\"a\"],QSeparator:g[\"a\"],QDialog:C[\"a\"],QCardActions:E[\"a\"]}),O()(k,\"directives\",{ClosePopup:A[\"a\"]});var L={name:\"App\",components:{V3DApp:y}},S=L,x=Object(p[\"a\"])(S,r,a,!1,null,null,null);n[\"default\"]=x.exports},\"530b\":function(e,n,t){\"use strict\";t(\"c975\"),t(\"a434\"),function(){var e={objCache:{},fadeAnnotations:!0,objClickCallbacks:[],pickedObject:\"\",objHoverCallbacks:[],hoveredObject:\"\",objMovementInfos:{},objDragOverCallbacks:[],objDragOverInfoByBlock:{},dragMoveOrigins:{},dragScaleOrigins:{},mediaElements:{},loadedFiles:{},loadedFile:\"\",promiseValue:\"\",animMixerCallbacks:[]};e.arHitPoint=new v3d.Vector3(0,0,0),e.states=[],e.percentage=0,e.animateParamUpdate=null,e.openedFile=\"\",e.xrSessionAcquired=!1,e.xrSessionCallbacks=[],e.screenCoords=new v3d.Vector2,e.gamepadIndex=0,e.AXIS_X=new v3d.Vector3(1,0,0),e.AXIS_Y=new v3d.Vector3(0,1,0),e.AXIS_Z=new v3d.Vector3(0,0,1),e.MIN_DRAG_SCALE=.001,e.SET_OBJ_ROT_EPS=1e-8,e.vec2Tmp=new v3d.Vector2,e.vec2Tmp2=new v3d.Vector2,e.vec3Tmp=new v3d.Vector3,e.vec3Tmp2=new v3d.Vector3,e.vec3Tmp3=new v3d.Vector3,e.vec3Tmp4=new v3d.Vector3,e.eulerTmp=new v3d.Euler,e.eulerTmp2=new v3d.Euler,e.quatTmp=new v3d.Quaternion,e.quatTmp2=new v3d.Quaternion,e.colorTmp=new v3d.Color,e.mat4Tmp=new v3d.Matrix4,e.planeTmp=new v3d.Plane,e.raycasterTmp=new v3d.Raycaster,e.intervals={},e.wooProductInfo={};var n=v3d.PL=v3d.PL||{};v3d.puzzles=n,n.procedures=n.procedures||{},n.execInitPuzzles=function(e){var n={percentage:0,output:{initOptions:{fadeAnnotations:!0,useBkgTransp:!1,preserveDrawBuf:!1,useCompAssets:!1,useFullscreen:!0,useCustomPreloader:!1,preloaderStartCb:function(){},preloaderProgressCb:function(){},preloaderEndCb:function(){}}}};n.container=void 0!==e&&\"container\"in e?e.container:\"\";return n.output},n.init=function(n,t){t=t||{},\"fadeAnnotations\"in t&&(e.fadeAnnotations=t.fadeAnnotations),this.procedures[\"play_anim\"]=g;var r,a,o,i,s,c,l,u={play_anim:g};function d(e){var n=e.getRoot(),t=\"Scene\"==n.type?n:null;return n.traverseAncestors((function(e){\"Scene\"==e.type&&(t=e)})),t}function p(e){return e&&\"v3d\"in e.userData&&\"animFrameRate\"in e.userData.v3d?e.userData.v3d.animFrameRate:24}var f=function(){function t(n){for(var t=e.animMixerCallbacks,r=[],a=0;a<t.length;a++)t[a][0]==n.action&&(t[a][0]=null,r.push(t[a][1]));for(a=0;a<r.length;a++)r[a]()}return function(){n.mixer&&!n.mixer.hasEventListener(\"finished\",t)&&n.mixer.addEventListener(\"finished\",t)}}();function m(t,r,a,o,i,s,c,l,u){if(r){\"string\"==typeof r&&(r=[r]);for(var m=0;m<r.length;m++){var v=r[m];v&&b(v)}f()}function b(r){var f=v3d.SceneUtils.getAnimationActionByName(n,r);if(f)switch(t){case\"PLAY\":if(!f.isRunning()){f.reset(),i&&\"AUTO\"!=i&&(f.loop=v3d[i]);var m=d(f),v=p(m);l||(f.repetitions=1/0);var b=Math.abs(parseFloat(s));u&&(b*=-1),f.timeScale=b,f.timeStart=null!==a?a/v:0,null!==o?f.getClip().duration=o/v:f.getClip().resetDuration(),f.time=b>=0?f.timeStart:f.getClip().duration,f.paused=!1,f.play();for(var h=e.animMixerCallbacks,g=!1,C=0;C<h.length;C++)h[C][0]==f&&h[C][1]==c&&(g=!0);g||e.animMixerCallbacks.push([f,c])}break;case\"STOP\":f.stop();for(h=e.animMixerCallbacks,C=0;C<h.length;C++)h[C][0]==f&&(h.splice(C,1),C--);break;case\"PAUSE\":f.paused=!0;break;case\"RESUME\":f.paused=!1;break;case\"SET_FRAME\":m=d(f),v=p(m);f.time=a?a/v:0,f.play(),f.paused=!0;break}}}function v(e,n){var t=[];if(Array.isArray(e)&&\"CONTAINER\"!=e[0]&&\"WINDOW\"!=e[0]&&\"DOCUMENT\"!=e[0]&&\"BODY\"!=e[0]&&\"QUERYSELECTOR\"!=e[0])for(var r=0;r<e.length;r++)t.push(b(e[r],n));else t.push(b(e,n));return t}function b(e,t){var r;if(Array.isArray(e)&&\"CONTAINER\"==e[0]){if(null!==n)r=n.container;else if(\"undefined\"!==typeof _initGlob){e=_initGlob.container;r=t?parent.document.getElementById(e):document.getElementById(e)}}else r=Array.isArray(e)&&\"WINDOW\"==e[0]?t?parent:window:Array.isArray(e)&&\"DOCUMENT\"==e[0]?t?parent.document:document:Array.isArray(e)&&\"BODY\"==e[0]?t?parent.document.body:document.body:Array.isArray(e)&&\"QUERYSELECTOR\"==e[0]?t?parent.document.querySelector(e):document.querySelector(e):t?parent.document.getElementById(e):document.getElementById(e);return r}function h(e,n,t,r){for(var a=v(n,t),o=0;o<a.length;o++){var i=a[o];i&&i.addEventListener(e,r,!1)}}function g(e,n,t){h(\"click\",n,!0,(function(n){0==t?(m(\"PLAY\",e,null,null,\"LoopOnce\",1,(function(){}),void 0,!1),t=1,console.log(t)):(m(\"PLAY\",e,null,null,\"LoopOnce\",1,(function(){}),void 0,!0),t=0,console.log(t))}))}function C(e){return\"AmbientLight\"!==e.type&&\"\"!==e.name&&!(e.isMesh&&e.isMaterialGeneratedMesh)}function E(t){var r,a=void 0!==e;return r=a?e.objCache[t]:null,r&&r.name===t||n.scene.traverse((function(n){!r&&C(n)&&n.name==t&&(r=n,a&&(e.objCache[t]=r))})),r}function A(){var e=[];return n.scene.traverse((function(n){C(n)&&e.push(n.name)})),e}function w(e){var t=[];return n.scene.traverse((function(n){if(C(n)){var r=n.groupNames;if(!r)return;for(var a=0;a<r.length;a++){var o=r[a];o==e&&t.push(n.name)}}})),t}function O(e){var n=[];return k(e,n),n}function k(e,n){if(\"string\"==typeof e)n.push(e);else if(Array.isArray(e)&&\"GROUP\"==e[0])for(var t=w(e[1]),r=0;r<t.length;r++)n.push(t[r]);else if(Array.isArray(e)&&\"ALL_OBJECTS\"==e[0])for(t=A(),r=0;r<t.length;r++)n.push(t[r]);else if(Array.isArray(e))for(r=0;r<e.length;r++)k(e[r],n)}function y(e){if(e.isMesh)return!0;for(var n=0;n<e.children.length;n++){var t=e.children[n];if(t.isMesh&&t.isMaterialGeneratedMesh)return!0}return!1}function L(e,n,t){if(C(e)){switch(n){case\"ALL\":t.indexOf(e.name)<0&&t.push(e.name);break;case\"ANNOTATION\":e.isAnnotation&&t.indexOf(e.name)<0&&t.push(e.name);break;case\"CAMERA\":e.isCamera&&t.indexOf(e.name)<0&&t.push(e.name);break;case\"LIGHT\":e.isLight&&t.indexOf(e.name)<0&&t.push(e.name);break;case\"MESH\":y(e)&&t.indexOf(e.name)<0&&t.push(e.name);break;default:console.error(\"getObjectsFrom: Unknown object type: \"+n);break}for(var r=0;r<e.children.length;r++){var a=e.children[r];L(a,n,t)}}}function S(e,n){var t=[];if(e=O(e),e){for(var r=0;r<e.length;r++){var a=e[r];if(a){var o=E(a);o&&L(o,n,t)}}return t}}function x(e,n,t,r){for(var a=v(t,r),o=0;o<a.length;o++){var i=a[o];i&&i.style&&(i.style[e]=n)}}function P(t,r,a){var o=n.renderer.domElement;if(o.addEventListener(r,c),\"mousedown\"==r){var i=a?\"touchstart\":\"touchend\";o.addEventListener(i,c)}var s=new v3d.Raycaster;function c(r){r.preventDefault();var a=0,i=0;if(r instanceof MouseEvent)a=r.offsetX/o.clientWidth,i=r.offsetY/o.clientHeight;else if(r instanceof TouchEvent){var c=o.getBoundingClientRect();a=(r.changedTouches[0].clientX-c.left)/c.width,i=(r.changedTouches[0].clientY-c.top)/c.height}e.screenCoords.x=2*a-1,e.screenCoords.y=2*-i+1,s.setFromCamera(e.screenCoords,n.camera);var l=[];n.scene.traverse((function(e){l.push(e)}));var u=s.intersectObjects(l);if(u.length>0){var d=u[0].object;t(d,r)}else t(null,r)}}function _(e,n){if(!n)return!1;for(var t=0;t<e.length;t++){if(n==e[t])return!0;var r=E(e[t]);if(r&&\"Group\"==r.type)for(var a=0;a<r.children.length;a++)if(n==r.children[a].name)return!0}return!1}function q(e){return e.isMesh&&e.isMaterialGeneratedMesh&&e.parent?e.parent.name:e.name}function j(n,t,r){n=O(n)||[];var a=n.filter((function(e){return e}));e.objHoverCallbacks.push({objNames:a,callbacks:[t,r]})}function F(e){if(!e)return{};var n=E(e);return n&&\"v3d\"in n.userData&&\"customProps\"in n.userData.v3d?n.userData.v3d.customProps:{}}function M(n,t,r){n=O(n)||[];var a=n.filter((function(e){return e}));e.objClickCallbacks.push({objNames:a,callbacks:[t,r]})}P((function(n){var t=e.hoveredObject,r=n?q(n):\"\";t!=r&&(e.objHoverCallbacks.forEach((function(n){_(n.objNames,t)&&(e.hoveredObject=t,n.callbacks[1]())})),e.objHoverCallbacks.forEach((function(n){_(n.objNames,r)&&(e.hoveredObject=r,n.callbacks[0]())})),e.hoveredObject=r)}),\"mousemove\"),P((function(n){e.pickedObject=n?q(n):\"\",e.objClickCallbacks.forEach((function(e){var t=n&&_(e.objNames,q(n));e.callbacks[t?0:1]()}))}),\"mousedown\"),r=0,s=0,g(\"Cube\",\"btnAnimCube\",r),g(\"Sphere\",\"btnAnimSphere\",s),j(S([\"GROUP\",\"Collection 1\"],\"ALL\"),(function(){x(\"cursor\",\"pointer\",[\"BODY\"],!1)}),(function(){x(\"cursor\",\"default\",[\"BODY\"],!1)})),M(S([\"GROUP\",\"Collection 1\"],\"ALL\"),(function(){x(\"cursor\",\"default\",[\"BODY\"],!1),console.log(String(e.pickedObject)+\" has been clicked!\"),console.log(\"Custom props :\"+String(F(e.pickedObject))),l=e.pickedObject;var t=Object.defineProperties({},{cubeAnimState:{get:function(){return r},set:function(e){r=e}},sphereAnimState:{get:function(){return s},set:function(e){s=e}},hoveredObject:{get:function(){return c},set:function(e){c=e}},pickedObject:{get:function(){return l},set:function(e){l=e}},obj:{get:function(){return a},set:function(e){a=e}},btnId:{get:function(){return o},set:function(e){o=e}},varName:{get:function(){return i},set:function(e){i=e}}});Function(\"app\",\"v3d\",\"VARS\",\"PROC\",\"// Built-in variables: app, v3d, VARS, PROC\\nv3d.PL._vueEventBus.$emit('Object-clicked', { id: VARS['pickedObject']});\")(n,v3d,t,u)}),(function(){}))}}()},adcf:function(e,n,t){\"use strict\";var r=t(\"fae2\"),a=t.n(r);a.a},d12b:function(e,n,t){\"use strict\";t.d(n,\"b\",(function(){return i})),t.d(n,\"a\",(function(){return r}));t(\"5319\");var r=\"v3d-container\",a=\"v3dApp/\",o=!0;function i(e,n){var t=v3d.AppUtils.getPageParams(),i=\"__URL__\"+e,c=\"__LOGIC__\"+n,l=\"/puzzles/\",u=t.logic?t.logic:c.replace(\"__LOGIC__\",a),d=t.load?t.load:i.replace(\"__URL__\",a);if(d)if(console.log(\"sceneURL :\",d),console.log(\"logicURL :\",u),v3d.Cache.enabled=!0,o)if(v3d.AppUtils.isXML(u)){var p=u.match(/(.*)\\.xml$/)[1]+\".js\";(new v3d.PuzzlesLoader).loadEditorWithLogic(l,p,(function(){var e=v3d.PL?v3d.PL.execInitPuzzles({container:r}).initOptions:{useFullscreen:!0},n=s(d,e);v3d.PE.viewportUseAppInstance(n)}))}else v3d.AppUtils.isJS(u)?(new v3d.PuzzlesLoader).loadLogic(u,(function(){var e=v3d.PL?v3d.PL.execInitPuzzles({container:r}).initOptions:{useFullscreen:!0};s(d,e)})):s(d,{useFullscreen:!0});else s(d,{useFullscreen:!0});else console.log(\"No scene URL specified\")}function s(e,n){n=n||{};var t={};n.useBkgTransp&&(t.alpha=!0),n.preserveDrawBuf&&(t.preserveDrawingBuffer=!0);var a=n.useCustomPreloader?c(n.preloaderProgressCb,n.preloaderEndCb):new v3d.SimplePreloader({container:r});v3d.PE&&l(a);var o=new v3d.App(r,t,a);if(n.useBkgTransp&&(o.clearBkgOnLoad=!0,o.renderer.setClearColor(0,0)),o.ExternalInterface={},d(o),n.preloaderStartCb&&n.preloaderStartCb(),n.useFullscreen)u();else{var i=document.getElementById(\"fullscreen_button\");i&&(i.style.display=\"none\")}return e=n.useCompAssets?e+\".xz\":e,o.loadScene(e,(function(){o.enableControls(),o.run(),v3d.PE&&v3d.PE.updateAppInstance(o),v3d.PL&&v3d.PL.init(o,n),p(o)}),null,(function(){console.log(\"Can't load the scene \"+e)})),o}function c(e,n){function t(){v3d.Preloader.call(this)}return t.prototype=Object.assign(Object.create(v3d.Preloader.prototype),{onUpdate:function(n){v3d.Preloader.prototype.onUpdate.call(this,n),e&&e(n)},onFinish:function(){v3d.Preloader.prototype.onFinish.call(this),n&&n()}}),new t}function l(e){if(void 0!==v3d.PE.loadingUpdateCb&&void 0!==v3d.PE.loadingFinishCb){var n=e.onUpdate.bind(e);e.onUpdate=function(e){n(e),v3d.PE.loadingUpdateCb(e)};var t=e.onFinish.bind(e);e.onFinish=function(){t(),v3d.PE.loadingFinishCb()}}}function u(){var e=document.getElementById(\"fullscreen_button\");if(e){var n=document.getElementById(r);(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)&&(e.style.display=\"inline\"),e.addEventListener(\"click\",(function(e){e.stopPropagation(),document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?o():a(n)})),document.addEventListener(\"webkitfullscreenchange\",t),document.addEventListener(\"mozfullscreenchange\",t),document.addEventListener(\"msfullscreenchange\",t),document.addEventListener(\"fullscreenchange\",t)}function t(){document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?(e.classList.remove(\"fullscreen-open\"),e.classList.add(\"fullscreen-close\")):(e.classList.remove(\"fullscreen-close\"),e.classList.add(\"fullscreen-open\"))}function a(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}function o(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()}}function d(e){}function p(e){}},fae2:function(e,n,t){}}]);","extractedComments":[]}